<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS" />
	<title>SKY♯配列について</title>
	<link rel="Stylesheet" href="default.css" type="text/css" />
</head>
<body>
<h3>GOTO版SKY配列（SKY♯配列とでも読んでください）</h3>
<p class="layout">
アンシフト時<br />
,　 W　 R　 M　 H　 | UU&nbsp; AI&nbsp; OU&nbsp; 。&nbsp; EI&nbsp; <br />
N　 T　 S　 K　 Y　 | U&nbsp;&nbsp; A&nbsp;&nbsp; O&nbsp;&nbsp; I&nbsp;&nbsp; E&nbsp;&nbsp; -<br />
P　 D　 Z　 G　 B　 | UN&nbsp; AN&nbsp; ON&nbsp; IN&nbsp; EN&nbsp; <br />
<br /><br />
シフト時(アンシフト時の「S」を打鍵した直後の打鍵）<br />
□&nbsp; □&nbsp; □&nbsp; □&nbsp; □&nbsp; | YUU YAI YOU っ&nbsp; YEI <br />
F&nbsp;&nbsp; V&nbsp;&nbsp; S&nbsp;&nbsp; X&nbsp;&nbsp; Y&nbsp&nbsp; | YU&nbsp; YA&nbsp; YO&nbsp; YI&nbsp; YE&nbsp; ん&nbsp;<br />
□&nbsp; □&nbsp; □&nbsp; □&nbsp; □&nbsp; | YUN YAN YON YIN YEN <br />
<br />
□は今の設定ではたまたまアンシフト時と同じ文字が入力されるが，配列としては定義しない．
</p>

<p>この配列はタイピングゲームをしようとした時，シフトこみの打鍵では速度が出にくいと思って
それまで使っていたSKY++風の配列を若干改造したものである．このサイトの日記の2003年5月28日
<a href="../diary/200305.html#d28-n1">「パソコンが届いたから」</a>で提案されてから，
そこで書かれていないような細かいところを修正して今に至る．</p>

<p>Google IME用のローマ字設定ファイルは<a href="https://github.com/smectic-g/SKY_Input_method/blob/master/SKY-for-Google-IME_20181203.txt">こちら</a>.</p>
<!-- <p>菱用の設定ファイルは<a href="Skysharp.hh">こちら</a>．</p> -->

<h4 id="basic-principle">基本方針</h4>
<p>基本的な方針としては</p>
<ul>
<li>シフトは使わない</li>
<li>主要部+C11の位置しか使わない．</li>
<li>拗音を打つときに同指連続打鍵が発生しないようにする．</li>
<li>V,F,Xが打てるようにする．</li>
</ul>
<p>があげられる．</p>

<p>まず，シフトを使わないことに関して．手が不器用な自分としてはシフトをミスなくうとうとすると
相当減速しなくてはいけない．
また，かな配列にシフトを使用することと比較すると左右分離型配列は同じ速度で打つためには
より速い打鍵が必要となるのでシフトのコストはより高くなる．
従って，速度を争うことを目的とする二打鍵系配列としてはシフトは使わないほうがいいと判断した．</p>

<p>主要部+C11の位置しか使わないというのは高速打鍵時にこの範囲内だとまあ楽に打てるかなということ．
新JISを練習してみて痛感したのだが，同じ11列目でもD11になるととたんに打ちにくくなるような印象がある．
まあ，願わくばB01やB10あたりも使わないほうが楽なんだけど，SKYベースだとここら辺は使わざるを得ない．</p>

<h4 id="imp-Youon">どう実装するか？-拗音</h4>
<p>まず，拗音の問題を解決する方法を考える．最初の発想の原点としてはSKY++を中指シフトで実装しようというのがあったが，
出来上がった配列を改めて見直すと，<a href="http://www7.plala.or.jp/dvorakjp/dvorakjp.htm">DvorakJP</a>における
DA打鍵法に近い概念であるといえる．（当然拗音キーは違うところに配置されているが）</p>

<p>一応言い訳がましくいっておくと，
自分がこの配列を考案したときにはDvorakJPもその拗音拡張のアイデアを採用したACTも存在は知っていたが，
拗音拡張が上のようなアイデアによるものだとは知らず，この配列の拗音拡張は上記の二つとは完全に独立に考案したものである．
全然別のところから始まった二つのアイデアが同じようなところに重なってきたというところに，
このアイデアの普遍性というか自然さを見ることができると思う．</p>

<p>DA打鍵法に基づいた説明だと拗音キーが二つあって（SとYの位置），
拗音にしたい子音の位置によって打ちやすいほうのキーを打つことになる．
この配列の拗音拡張がDA打鍵法と違うところは拗音開始キーと同じで物理的に片方しか打つことができない
サ行の拗音以外はどちらの拗音キーでも拗音にできるということ．
もうひとつは二つの拗音キーのどちらか使うかで違う拗音を出すことができる子音があるということ．
つまり，Sの位置にあるのが本来のY．Yの位置にあるのがローマ字入力的にはHを押したときの拗音になる．
たとえば，TSIと打ったときは「ちぃ」．TYIと打ったときには「てぃ」となる．</p>

<p>ここら辺は「ぢぃ」や「ちぃ」がほとんど出現しないから「でぃ」や「てぃ」に
一本化するという考え方もある．（さすがに「ちぃ」の出現率が高いと主張するとお里が知れるので主張しない）
ただ，「ちゃ」の系列と「てぃ」の系列は明らかに違う音なのでこれらを強引に同じタ行の拗音として統合してしまうと，
頭の中で混乱が起こったので意図的に分けてある．</p>

<p>あと，細かいところではワ行の拗音として「ウォ」が出せる．
普通の拗音と「ファ」系列と「ヴァ」系列と「ティ，ディ」系列と「ウォ」が出せれば，
タイプウェル国語のカタカナ語で小文字キーを使って出さなくてはいけない単語は
確か「ボスニアヘルツェゴビナ」だけだったと思う．</p>

<div class="note">
<p>わかりにくいようなので補足．サ行は特殊で下の「その他の中指シフト側の文字」でも書いているように，
サ行の拗音はSYのみであり，SSでは促音が打たれる．</p></div>

<h4 id="another-Naka">どう実装するか？-その他の中指シフト側の文字</h4>
<p>次に，F,V,Xをどこに割り振るか考えよう．促音拡張をなくした関係上子音側の中指シフトは
サ行の拗音を出さなくてはいけないYを除いてすべてあいている．
そこで，中指からの連続が一番打ちやすいであろう中段の3つの位置に適当に割り振ればいい．</p>

<p>FはSKY++が（促音拡張をよけるため）小指の中段になっていて，それに慣れていてそれ以外の場所に
なじめなかったのでS-Nに割り当てた．
Fの次に出現率が高いのは小文字化キーであるXではないかと思って，人差し指で打てるたぶん一番打ちやすい場所に配置した．
で残ったVをあまりの薬指の位置に配置した．配置したあとに打ってみて思ったのだが，
意外とこの薬指の位置が指がくぐもる感じがあって一番打ちにくかったから正解だったのかもしれない．
</p>

<p>残るは単独の「っ」と「ん」である．最初に適当にそれまで使っていたSKY++の昔のバージョンと同じ場所の中指シフトの位置に配置したが，
問題なさそうなのでそのままである．「っ」キーほ，元から使う頻度が少なかったということと，
菱で実装している関係上適当な子音を連打すればゴミを残さずに「っ」が入力できるのでさらに必要性がなくなったのでぜんぜん使っていないのだが，
「ん」は相当な頻度で使う．須藤氏が指摘しているように単独の「ん」が出現する状況は「－ん」というのが一番多い．
</p>

<p>同じキーを連続で打つというのは二つの意味があって，動かさなくてもいいという良い面と
同じ指を連続で使うから遅くならざるを得ないという悪い面がある．
ただ，この場合アンシフトとシフトと完全に小指2連続になるSKY++のときと違って，
中指シフトで交互打鍵（右小指→左中指→右小指）になるから，おなじ指を連続で使うという感じにはならない．
そうすると，連続だから遅くなるという面がなくなって動かさなくていいから速くなるという面しかでないので，
今の小指連続のほうが打ちやすく感じる．</p>

<h4 id="future-works">今後の課題</h4>
<p>この配列の弱点はやはり小さい文字と促音である．
小さい文字に関しては1文字打つのに3打いるというのはちょっと問題であるが，
今のところ小さい文字を単独で打たなければいけない機会というのはあまりないので表面化していない．
促音に関してはタイプウェルの統計を見るとほかのかなの入力時間が順調に短縮している一方で，
出現頻度が相当高いのにまったくといっていいほど変化がないので何らかの改良を配さなければいけないと思っている．
ただ，子音連打というのは肉体的な負担は高いけれども思考的な負担は最小に近い入力法なので，
なかなかこれに変わる方法を思いつけない．</p>

<p>今回これを書く過程で，子音側のシフトが意外とあいているので促音拡張を特定の音（TTが筆頭か）
に関して復活させてもいいかなと思いつつあるが，打ってみた感じだと，相当練習しないと
子音連打の速度に勝てない感じがする．</p>

<h4 id="data">打鍵データ</h4>
<p>配列比較サイトで半ばお決まりとなっている打鍵データを計算してみた．
ひらがなから打鍵列への変換スクリプトは<a href="toskysharp.pl">toskysharp.pl</a>．打鍵列の評価はmassangeanaさんによる
<a href="http://www.asahi-net.or.jp/~ez3k-msym/charsets/laycomp.htm">キーボードによるかな入力効率の比較</a>
の各種スクリプトを使用して行なった．Perl 5.8で動作させるためにスクリプトを若干改造しているが，
基本的な部分は同一です．このように有用なスクリプト群を開発，公開してくれているmassangeanaさんに感謝します．</p>

<p>例文は日本国憲法前文．</p>

<p>まず，個々の打鍵のデータから</p>
<table rules="groups">
	<colgroup span="1"></colgroup><colgroup span="4"></colgroup>
	<colgroup span="4"></colgroup><colgroup span="4"></colgroup><colgroup span="4"></colgroup>
	<thead>
	<tr>
		<th>方式</th>
		<th>打鍵数</th>
		<th>左</th>
		<th>右</th>
		<th>シフト</th>
		<th>左人</th>
		<th>左中</th>
		<th>左薬</th>
		<th>左小</th>
		<th>右人</th>
		<th>右中</th>
		<th>右薬</th>
		<th>右小</th>
		<th>最下</th>
		<th>2段め</th>
		<th>3段め</th>
		<th>最上</th>
	</tr></thead>
	<tbody><tr>
		<td>ローマ字</td>
		<td>1475</td>
		<td>530</td>
		<td>945</td>
		<td>0</td>
		<td>164</td>
		<td>111</td>
		<td>125</td>
		<td>130</td>
		<td>409</td>
		<td>316</td>
		<td>215</td>
		<td>5</td>
		<td>228</td>
		<td>444</td>
		<td>803</td>
		<td>0</td>
	</tr>
	<tr>
		<td>SKY</td>
		<td>1329</td>
		<td>680</td>
		<td>649</td>
		<td>0</td>
		<td>267</td>
		<td>175</td>
		<td>125</td>
		<td>113</td>
		<td>231</td>
		<td>206</td>
		<td>115</td>
		<td>97</td>
		<td>119</td>
		<td>909</td>
		<td>301</td>
		<td>0</td>
	</tr>
	<tr>
		<td>SKY♯</td>
		<td>1330</td>
		<td>680</td>
		<td>650</td>
		<td>0</td>
		<td>257</td>
		<td>185</td>
		<td>125</td>
		<td>113</td>
		<td>232</td>
		<td>206</td>
		<td>115</td>
		<td>97</td>
		<td>119</td>
		<td>911</td>
		<td>300</td>
		<td>0</td>
	</tr></tbody>
</table>
<p>SKYとSKY♯で打鍵数が1違うのは違う文節にまたがる連母音（ここでは「おう」）を省打鍵キーで処理するか否かの違いである．
実際のところ，これを省打鍵キーで処理することは不自然なので自分の計算ではこれを普通の母音二つとして処理した結果を載せている．
</p>

<p>次に，2指の連続の結果</p>
<table rules="groups">
	<colgroup span="1"></colgroup><colgroup span="4"></colgroup><colgroup span="3"></colgroup>
	<thead>
	<tr>
		<th>方式</th>
		<th>打鍵数</th>
		<th>交互打鍵（率）</th>
		<th>左左</th>
		<th>右右</th>
		<th>同指異鍵</th>
		<th>同手跳躍</th>
		<th>左手縦連</th>
	</tr>
	</thead>
	<tbody>
	<tr>
		<td>ローマ字</td>
		<td>1475</td>
		<td>662(44.9)</td>
		<td>199</td>
		<td>613</td>
		<td>96</td>
		<td>220</td>
		<td>0</td>
	</tr>
	<tr>
		<td>SKY</td>
		<td>1329</td>
		<td>1217(91.6)</td>
		<td>71</td>
		<td>40</td>
		<td>13</td>
		<td>5</td>
		<td>0</td>
	</tr>
	<tr>
		<td>SKY♯</td>
		<td>1330</td>
		<td>1217(91.5)</td>
		<td>71</td>
		<td>41</td>
		<td>4</td>
		<td>5</td>
		<td>0</td>
	</tr>
	</tbody>
</table>
<p>思ったより改善されていないなというのがぱっと見た感想．
同手跳躍や同指異鍵はそのほとんどが句読点と母音の連続に起因するものと推測され，
SKYの体裁を保ったままではこれ以上の改善は
見込めないような気もするが，結構考えてしまう．</p>

<p>SKY♯における各キーの出現頻度は</p>

<table rules="all">
<th></th><th>01</th><th>02</th><th>03</th><th>04</th><th>05</th><th>06</th><th>07</th><th>08</th><th>09</th><th>10</th><th>11</th><th>12</th><th>13</th><th>合計</th></tr>
<tr><th>E段</th><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td>
</tr>
<tr><th>D段</th><td>35</td><td>37</td><td>64</td><td>30</td><td>44</td><td>7</td><td>16</td><td>35</td><td>9</td><td>23</td><td>0</td><td>0</td><td></td><td>300</td>
</tr>
<tr><th>C段</th><td class="home">73</td><td class="home">75</td><td class="home">98</td><td class="home">136</td><td>28</td><td>103</td><td class="home">100</td><td class="home">164</td><td class="home">88</td><td class="home">46</td><td>0</td><td>0</td><td></td><td>911</td>
</tr>
<tr><th>B段</th><td>5</td><td>13</td><td>23</td><td>16</td><td>3</td><td>0</td><td>6</td><td>7</td><td>18</td><td>28</td><td>0</td><td></td><td></td><td>119</td>
</tr>
<tr><th>合計</th><td>113</td><td>125</td><td>185</td><td colspan="2">257</td><td colspan="2">232</td><td>206</td><td>115</td><td colspan="4">97</td><td>1330</td>
</tr>
</table>

<p>のような感じ．</p>
<p>ほかのいくつかの例文に関するデータは<a href="sky-statistics.html">こちらに</a>(気が向いたら作ると思います)．</p>

<hr />
<address>
最終更新日 : 2004-02-07 （2018-12-03 Google IME用のファイル追加）<br />
<a href="https://smectic-g.github.io/SKY_Input_method/">トップにもどる</a> <br />
</address>
</body>
</html>
